<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Đăng nhập - Vòng quay</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>
  <body
    class="bg-light d-flex justify-content-center align-items-center vh-100"
  >
    <div class="card shadow p-4" style="width: 360px">
      <h3 class="text-center mb-4">Đăng nhập</h3>
      <div class="mb-3">
        <label class="form-label">Tài khoản</label>
        <input
          type="text"
          id="username"
          class="form-control"
          placeholder="Nhập username"
        />
      </div>
      <div class="mb-3">
        <label class="form-label">Mật khẩu</label>
        <input
          type="password"
          id="password"
          class="form-control"
          placeholder="Nhập mật khẩu"
        />
      </div>
      <button class="btn btn-primary w-100" id="btnLogin">Đăng nhập</button>
      <p
        class="text-danger mt-3 text-center"
        id="loginError"
        style="display: none"
      >
        Sai tài khoản hoặc mật khẩu
      </p>
    </div>

    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="wwwroot/Data/data.js"></script>
    <script>
      $("#btnLogin").click(function () {
        const user = $("#username").val();
        const pass = $("#password").val();

        const found = fakeDB.USER.find(
          (u) => u.Username === user && u.Password === pass
        );

        if (found) {
          localStorage.setItem("currentUser", JSON.stringify(found));
          window.location.href = "wwwroot/Components/Dashboard/dashboard.html";
        } else {
          $("#loginError").show();
        }
      });
    </script>
  </body>
</html>
